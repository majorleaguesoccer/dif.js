!function(){"use strict";function r(r){var e={preserve:!0,depth:1,removed:!1,sort:!1};r=r||{};for(var t in r)e[t]=r[t];return e}function e(r){for(var e in r)if(r.hasOwnProperty(e))return!1;return!0}function t(r){return"[object Object]"===i.call(r)}function n(r,e,t){var o=i.call(r);if(o!==i.call(e))return!1;if("[object Number]"===o)return r!==+r?e!==+e:0===r?1/r===1/e:r===+e;if("[object Array]"===o){var u=r.length;if(u!==e.length)return!1;for(t.sort&&(r=r.slice(0).sort(),e=e.slice(0).sort());u--;)if(!n(r[u],e[u],t))return!1;return!0}if("[object Date]"===o||"[object Boolean]"===o)return+r===+e;if("[object RegExp]"===o)return r.source==e.source&&r.global==e.global&&r.multiline==e.multiline&&r.ignoreCase==e.ignoreCase;if("[object Object]"===o){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(var a in r)if(r.hasOwnProperty(a)){if(!e.hasOwnProperty(a))return!1;if(!n(r[a],e[a],t))return!1}return!0}return r===e}function o(i,u,a,s){var f,c,l={};if(a=r(a),s=s||1,c=a.preserve&&s>=a.depth,!t(i)||!t(u)||!t(a))throw new TypeError("Dif arguments must be objects");for(var p in u){var b=i[p],h=u[p],v=!1;u.hasOwnProperty(p)&&(i.hasOwnProperty(p)?(v=n(b,h,a),v||(!c&&t(b)&&t(h)?(f=o(b,h,a,s+1),e(f)||(l[p]=f)):v||(l[p]=h))):l[p]=h)}for(var p in i)i.hasOwnProperty(p)&&(u.hasOwnProperty(p)||l.hasOwnProperty(p)||(l[p]=a.removed?void 0:i[p]));return l}var i=Object.prototype.toString;o.VERSION="0.0.6","undefined"!=typeof exports?module.exports=o:this.dif=o}.call(this);