;(function(){"use strict";function n(e){var t={preserve:!0,depth:1};e=e||{};for(var n in e)t[n]=e[n];return t}function r(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function i(t){return e.call(t)==="[object Object]"}function s(e){return e.slice(0).sort().toString()}function o(t,n){var r=e.call(t);if(r!==e.call(n))return!1;if(r==="[object Number]")return t!==+t?n!==+n:t===0?1/t===1/n:t===+n;if(r==="[object Array]")return s(t)===s(n);if(r==="[object Date]"||r==="[object Boolean]")return+t===+n;if(r==="[object RegExp]")return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase;if(r==="[object Object]"){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var i in t){if(!t.hasOwnProperty(i))continue;if(!n.hasOwnProperty(i))return!1;if(!o(t[i],n[i]))return!1}return!0}return t===n}function u(t,s,a,f){var l={},c,h;a=n(a),f=f||1,h=a.preserve&&f>=a.depth;if(!i(t)||!i(s)||!i(a))throw new TypeError("Dif arguments must be objects");for(var p in s){var d=t[p],v=s[p],m=e.call(d),g=!1;if(!s.hasOwnProperty(p))continue;if(!t.hasOwnProperty(p)){l[p]=v;continue}g=o(d,v);if(g)continue;!h&&i(d)&&i(v)?(c=u(d,v,a,f+1),r(c)||(l[p]=c)):g||(l[p]=v)}for(var p in t){if(!t.hasOwnProperty(p))continue;!s.hasOwnProperty(p)&&!l.hasOwnProperty(p)&&(l[p]=t[p])}return l}var e=Object.prototype.toString,t=Array.prototype.slice;u.VERSION="0.0.4",typeof exports!="undefined"?module.exports=u:this.dif=u}).call(this);